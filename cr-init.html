<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Test</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <pre id="out">loading...</pre>
  <script>
    const out = document.getElementById("out");
    const tg = window.Telegram && window.Telegram.WebApp;

    out.textContent =
      "Telegram object: " + (!!window.Telegram) + "\n" +
      "WebApp object: " + (!!tg) + "\n" +
      "initData length: " + (tg && tg.initData ? tg.initData.length : 0) + "\n" +
      "platform: " + (tg && tg.platform ? tg.platform : "") + "\n" +
      "version: " + (tg && tg.version ? tg.version : "") + "\n";

    if (tg && tg.initData) {
      tg.sendData(JSON.stringify({type:"initData", initData: tg.initData}));
      out.textContent += "\nSent to bot. Closing...";
      setTimeout(()=>tg.close(), 500);
    }
  </script>
</body>
</html>

